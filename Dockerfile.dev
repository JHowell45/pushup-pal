FROM rust:1.79.0
# ARG DATABASE_URL
WORKDIR /usr/src/api-service
COPY . .
# ENV DATABASE_URL=$DATABASE_URL SQLX_OFFLINE=true RUST_BACKTRACE=1 PKG_CONFIG_ALLOW_CROSS=1
EXPOSE 8080
RUN cargo binstall cargo-watch
RUN cargo install